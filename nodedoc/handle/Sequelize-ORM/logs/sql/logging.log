sql [2025-02-28 21:17:10] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:17:11] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:17:11] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:17:12] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:17:12] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:17:13] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:17:13] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:17:13] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:17:13] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:17:13] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:17:13] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:17:13] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:17:13] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:17:13] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:17:13] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:17:13] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:17:13] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:17:13] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:18:07] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:08] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:09] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:09] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:10] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:18:10] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:18:11] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:18:11] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:18:11] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:18:11] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:18:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:18:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:18:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:18:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:18:11] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:18:11] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:18:19] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:20] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:18:20] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:21] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:18:22] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:18:22] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:19:04] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:19:05] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:19:06] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:19:07] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:19:07] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:19:07] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:19:08] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:19:08] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:19:08] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:19:08] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:19:08] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:19:08] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:19:08] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:19:08] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:19:08] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:19:08] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:19:08] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:19:09] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:19:09] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:19:09] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:06] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:07] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:08] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:09] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:09] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:20:09] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:20:10] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:20:10] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:10] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:20:10] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:10] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:10] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:20:10] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:20:10] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:20:10] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:10] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:10] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:20:10] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:20:11] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:24] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:25] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:20:25] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:20:25] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:25] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:20:25] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:25] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:25] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:26] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:27] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:27] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:20:28] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:20:28] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:20:28] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:28] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:20:28] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:28] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:28] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:20:28] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:20:28] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:20:28] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:29] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:29] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:20:29] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:20:29] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:33] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:34] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:34] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:35] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:35] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:20:36] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:20:37] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:20:37] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:20:37] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:20:37] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:20:37] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:20:37] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:20:37] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:20:37] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:20:37] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:37] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:20:37] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:20:37] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:20:37] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:20:38] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:04] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:05] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:06] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:07] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:07] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:21:07] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:21:08] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:21:08] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:08] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:21:08] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:08] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:08] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:21:08] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:21:08] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:21:08] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:09] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:09] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:21:09] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:21:09] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:10] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:11] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:12] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:12] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:21:13] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:13] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:21:13] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:21:14] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:21:14] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:14] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:21:14] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:14] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:14] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:21:14] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:21:14] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:21:14] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:14] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:14] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:21:14] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:21:15] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:36] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:37] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:38] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:39] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:39] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:21:39] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:21:40] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:21:40] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:21:40] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:21:40] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:21:40] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:21:40] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:21:40] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:21:40] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:21:40] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:40] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:21:40] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:21:41] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:21:41] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:21:46] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:21:48] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:22:12] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:13] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:14] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:14] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:15] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:22:15] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:22:16] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:22:16] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:22:16] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:22:16] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:22:16] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:16] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:22:16] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:22:16] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:22:16] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:16] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:16] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:22:16] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:22:16] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:22:29] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:30] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:30] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:31] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:31] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:22:32] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:22:33] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:22:33] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:22:33] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:22:33] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:22:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:22:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:22:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:22:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:22:33] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:22:33] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:22:36] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:22:56] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:57] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:22:58] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:58] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:22:59] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:22:59] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:23:00] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:23:01] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:23:01] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:23:01] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:23:01] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:23:01] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:23:01] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:23:01] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:23:01] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:23:01] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:23:01] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:23:01] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:23:01] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:23:01] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:23:10] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:23:10] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:23:14] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:23:14] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:24:26] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:24:27] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:24:27] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:24:28] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:24:28] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:24:29] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:24:30] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:24:30] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:24:30] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:24:30] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:24:30] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:24:30] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:24:30] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:24:30] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:24:30] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:24:30] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:24:30] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:24:30] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:24:30] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:25:05] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:06] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:06] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:07] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:07] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:25:08] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:25:09] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:25:09] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:25:09] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:25:09] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:25:09] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:09] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:25:09] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:25:09] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:25:09] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:09] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:09] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:25:09] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:25:09] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:25:48] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:49] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:50] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:51] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:51] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:25:52] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:25:52] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:25:52] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:25:52] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:25:52] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:25:52] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:52] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:25:52] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:25:52] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:25:53] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:53] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:53] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:25:53] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:25:53] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:25:56] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:57] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:25:58] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:59] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:25:59] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:25:59] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:26:00] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:26:00] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:26:00] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:26:00] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:26:00] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:26:00] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:26:00] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:26:00] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:26:00] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:26:01] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:26:01] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:26:01] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:26:01] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:26:06] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:26:06] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:26:06] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:26:06] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:26:06] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:26:06] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:26:06] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:26:06] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:26:06] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:26:06] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:26:06] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:26:06] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:26:06] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:26:07] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:26:08] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:26:09] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:26:09] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:26:10] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:26:11] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:26:11] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:26:11] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:26:11] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:26:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:26:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:26:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:26:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:26:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:26:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:26:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:26:11] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:26:11] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:26:12] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:31:29] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:30] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:31] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:31] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:31] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:31:32] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:31:33] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:31:33] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:31:33] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:31:33] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:31:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:31:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:31:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:31:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:31:33] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:31:34] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:31:56] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:57] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:31:58] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:31:58] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:31:59] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:32:00] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:32:01] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:32:01] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:32:01] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:32:01] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:32:01] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:32:01] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:32:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:32:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:32:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:32:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:32:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:32:02] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:32:02] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:32:05] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:32:08] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:32:08] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:01] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:02] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:33:02] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:33:02] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:33:02] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:33:02] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:33:02] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:02] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:03] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:04] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:33:04] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:05] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:33:06] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:33:07] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:08] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:08] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:09] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:09] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:33:10] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:33:11] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:33:11] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:33:11] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:33:11] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:33:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:33:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:33:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:33:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:11] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:33:11] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:33:11] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:33:28] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:29] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:30] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:30] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:31] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:33:31] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:33:32] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:33:32] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:33:32] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:33:32] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:33:32] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:33:32] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:33:32] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:33:32] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:33:32] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:32] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:33:32] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:33:33] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:33:33] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:24] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:36:25] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:36:25] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:36:25] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:36:25] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:36:25] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:25] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:26] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:27] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:27] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:36:28] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:36:29] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:36:29] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:36:29] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:36:29] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:36:29] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:29] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:36:29] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:36:29] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:36:29] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:29] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:29] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:36:29] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:36:29] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:36:40] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:41] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:42] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:42] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:42] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:36:43] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:36:44] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:36:44] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:36:44] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:36:44] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:36:44] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:36:44] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:36:44] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:36:44] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:36:44] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:44] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:36:44] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:36:44] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:36:45] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:37:25] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:26] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:27] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:28] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:28] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:37:29] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:37:30] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:37:30] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:37:30] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:37:30] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:37:30] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:30] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:37:30] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:37:30] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:37:30] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:30] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:30] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:37:30] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:37:30] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:37:46] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:47] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:48] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:49] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:49] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:37:50] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:37:50] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:37:50] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:37:50] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:37:50] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:37:50] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:37:50] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:37:51] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:37:51] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:37:51] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:51] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:37:51] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:37:51] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:37:51] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:38:13] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:14] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:38:15] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:16] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:17] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:18] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:18] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:38:19] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:38:19] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:38:20] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:38:20] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:38:20] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:38:20] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:38:20] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:38:20] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:38:20] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:38:20] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:20] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:38:20] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:38:20] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:38:20] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:38:28] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:38:32] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:38:32] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:38:55] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:38:55] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:39:14] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:39:16] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:40:43] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:45] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:40:49] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:50] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:51] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:52] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:40:53] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:40:53] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:40:53] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:40:53] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:40:53] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:53] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:40:53] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:40:53] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:40:53] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:53] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:53] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:40:53] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:40:54] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:40:57] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:58] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:40:59] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:00] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:00] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:41:00] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:41:01] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:41:01] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:01] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:41:01] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:01] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:01] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:41:01] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:41:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:41:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:41:02] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:41:02] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:41:22] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:22] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:41:22] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:22] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:22] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:22] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:22] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:23] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:24] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:25] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:25] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:41:25] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:26] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:41:27] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:41:27] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:27] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:41:27] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:27] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:27] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:41:27] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:41:27] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:41:27] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:27] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:28] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:41:28] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:41:28] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:48] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:49] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:51] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:52] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:53] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:53] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:41:53] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:54] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:41:55] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:41:55] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:41:55] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:41:55] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:41:55] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:41:55] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:41:55] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:41:55] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:41:55] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:55] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:41:56] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:41:56] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:41:56] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:42:00] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:42:04] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:42:04] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:42:14] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:42:19] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:42:19] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:42:22] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:42:22] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:42:25] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:42:25] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:42:28] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:42:28] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:42:29] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:42:29] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:42:32] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:42:32] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:42:34] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:42:34] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:42:35] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:42:35] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:42:43] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:42:43] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:42:58] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:42:59] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:42:59] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:43:00] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:43:00] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:43:01] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:43:02] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:43:02] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:43:02] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:43:02] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:43:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:43:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:43:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:43:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:43:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:43:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:43:02] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:43:03] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:43:03] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:44:45] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:44:46] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:44:47] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:44:48] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:44:48] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:44:49] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:44:49] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:44:50] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:44:50] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:44:50] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:44:50] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:44:50] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:44:50] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:44:50] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:44:50] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:44:50] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:44:50] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:44:50] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:44:50] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:44:52] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:44:57] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:44:57] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:45:03] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:45:03] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:45:19] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:45:19] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:46:14] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:46:14] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:46:18] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:46:18] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:46:28] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:46:29] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:46:30] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:46:30] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 21:46:30] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:46:31] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:46:31] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:46:32] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 21:46:32] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 21:46:32] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 21:46:32] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 21:46:32] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 21:46:32] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 21:46:32] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 21:46:32] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 21:46:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 21:46:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 21:46:33] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 21:46:33] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 21:46:33] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 21:47:08] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:47:15] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:47:16] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:47:18] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:47:21] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:47:21] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:47:28] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:47:41] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:47:50] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:47:50] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:48:43] [DEBUG]: Executing (default): SELECT `id`, `loginId`, `loginPwd`, `name`, `createdAt`, `updatedAt`, `deletedAt` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL AND (`Admin`.`loginId` = '22222' AND `Admin`.`loginPwd` = 'e10adc3949ba59abbe56e057f20f883e')) LIMIT 1;

sql [2025-02-28 21:49:01] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:49:01] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:50:25] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:50:25] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:50:33] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:50:33] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:50:35] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:50:35] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 21:50:36] [DEBUG]: Executing (default): SELECT count(*) AS `count` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL);

sql [2025-02-28 21:50:36] [DEBUG]: Executing (default): SELECT `name`, `loginId` FROM `Admins` AS `Admin` WHERE (`Admin`.`deletedAt` IS NULL) LIMIT 0, 10;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:02:43] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:02:44] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:02:45] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:02:46] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 22:02:46] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:02:47] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:02:47] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 22:02:47] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:02:47] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 22:02:47] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:02:47] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:02:48] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 22:02:48] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 22:02:48] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 22:02:48] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:02:48] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:02:48] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:02:48] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 22:02:48] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:05:13] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:05:14] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:05:15] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:05:16] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 22:05:16] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:05:17] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:05:18] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 22:05:18] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:05:18] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 22:05:18] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:05:18] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:05:18] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 22:05:18] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 22:05:18] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 22:05:18] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:05:18] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:05:18] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:05:18] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 22:05:18] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 22:06:04] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:06:04] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 22:06:04] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:06:04] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:06:04] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:06:04] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:06:04] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:06:04] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 22:06:04] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:06:04] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 22:06:04] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:06:04] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:06:05] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:06:06] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:06:06] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:06:07] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 22:06:07] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:06:08] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:06:09] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 22:06:09] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:06:09] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 22:06:09] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:06:09] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:06:09] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 22:06:09] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 22:06:09] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 22:06:09] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:06:10] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:06:10] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:06:10] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 22:06:10] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'UpdatePrompts' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `UpdatePrompts`;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'UpdatePrompts' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updateTime` `updateTime` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `UpdatePrompts` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): SHOW INDEX FROM `UpdatePrompts`

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Admins' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Admins`;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Admins' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginId` `loginId` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `loginPwd` `loginPwd` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `Admins` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): SHOW INDEX FROM `Admins`

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Books' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Books`;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Books' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `imgurl` `imgurl` VARCHAR(255);

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `publishDate` `publishDate` DATETIME NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `author` `author` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:16:41] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:16:42] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:16:42] [DEBUG]: Executing (default): ALTER TABLE `Books` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:16:42] [DEBUG]: Executing (default): SHOW INDEX FROM `Books`

sql [2025-02-28 22:16:42] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Classes' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:16:42] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Classes`;

sql [2025-02-28 22:16:42] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Classes' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:16:42] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:16:44] [DEBUG]: Executing (default): SELECT `id`, `name`, `updateTime`, `createdAt`, `updatedAt` FROM `UpdatePrompts` AS `UpdatePrompt` WHERE `UpdatePrompt`.`name` = 'updateApp' LIMIT 1;

sql [2025-02-28 22:16:52] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `openDate` `openDate` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:16:52] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:16:53] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:16:54] [DEBUG]: Executing (default): ALTER TABLE `Classes` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:16:55] [DEBUG]: Executing (default): SHOW INDEX FROM `Classes`

sql [2025-02-28 22:16:55] [DEBUG]: Executing (default): SELECT TABLE_NAME FROM INFORMATION_SCHEMA.TABLES WHERE TABLE_TYPE = 'BASE TABLE' AND TABLE_NAME = 'Students' AND TABLE_SCHEMA = 'duyi_myschooldb'

sql [2025-02-28 22:16:55] [DEBUG]: Executing (default): SHOW FULL COLUMNS FROM `Students`;

sql [2025-02-28 22:16:55] [DEBUG]: Executing (default): SELECT CONSTRAINT_NAME as constraint_name,CONSTRAINT_NAME as constraintName,CONSTRAINT_SCHEMA as constraintSchema,CONSTRAINT_SCHEMA as constraintCatalog,TABLE_NAME as tableName,TABLE_SCHEMA as tableSchema,TABLE_SCHEMA as tableCatalog,COLUMN_NAME as columnName,REFERENCED_TABLE_SCHEMA as referencedTableSchema,REFERENCED_TABLE_SCHEMA as referencedTableCatalog,REFERENCED_TABLE_NAME as referencedTableName,REFERENCED_COLUMN_NAME as referencedColumnName FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE where TABLE_NAME = 'Students' AND CONSTRAINT_NAME!='PRIMARY' AND CONSTRAINT_SCHEMA='duyi_myschooldb' AND REFERENCED_TABLE_NAME IS NOT NULL;

sql [2025-02-28 22:16:55] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `name` `name` VARCHAR(255) NOT NULL;

sql [2025-02-28 22:16:55] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `birthday` `birthday` DATETIME NOT NULL;

sql [2025-02-28 22:16:55] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `sex` `sex` TINYINT(1) NOT NULL;

sql [2025-02-28 22:16:55] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `mobile` `mobile` VARCHAR(11) NOT NULL;

sql [2025-02-28 22:16:55] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `createdAt` `createdAt` DATETIME NOT NULL;

sql [2025-02-28 22:16:56] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `updatedAt` `updatedAt` DATETIME NOT NULL;

sql [2025-02-28 22:16:56] [DEBUG]: Executing (default): ALTER TABLE `Students` CHANGE `deletedAt` `deletedAt` DATETIME;

sql [2025-02-28 22:16:56] [DEBUG]: Executing (default): ALTER TABLE `Students` ADD FOREIGN KEY (`ClassId`) REFERENCES `Classes` (`id`) ON DELETE SET NULL ON UPDATE CASCADE;

sql [2025-02-28 22:16:56] [DEBUG]: Executing (default): SHOW INDEX FROM `Students`

